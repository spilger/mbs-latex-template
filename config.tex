% !TEX root = master.tex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LANGUAGE SETTINGS
\usepackage[english]{babel}
\usepackage{csquotes}

% ESSENTIAL PACKAGES
\usepackage{makeidx}                  % allows index generation
\usepackage{listings}                 % Format Listings properly
\usepackage{lipsum}                   % Blindtext
\usepackage{graphicx}                 % use various graphics formats
\usepackage{varioref}                 % nicer references \vref
\usepackage{caption}                  % better Captions
\usepackage{booktabs}                 % nicer Tabs
\usepackage[hidelinks]{hyperref}      % no red markings on links
\usepackage{fnpct}                    % Correct superscripts
\usepackage{calc}                     % Used for extra space below footsepline, in particular
\usepackage{array}
\usepackage{acronym}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{setspace}
\usepackage{tocloft}

% FONT SELECTION
\usepackage{fontspec}
\setmainfont{Times New Roman}
\doublespacing

% Adjust default family to serif (Times New Roman)
\renewcommand*{\familydefault}{\rmdefault}
\addtokomafont{disposition}{\rmfamily}

\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\usepackage[a4paper, margin=1in]{geometry}
\pgfplotsset{width=14cm,height=10cm,compat=1.9}
\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}

\usepackage{tikz}
\usetikzlibrary{positioning, arrows.meta}

% BIBLIOGRAPHY SETTINGS
\usepackage[backend=biber, autocite=inline, style=authoryear]{biblatex} % Set the style here
\addbibresource{bibliography.bib}

% FOOTNOTES
\usepackage{chngcntr}
\counterwithout{footnote}{chapter}

% ACRONYMS
\makeatletter
\usepackage[printonlyused]{acronym}
\@ifpackagelater{acronym}{2015/03/20}
  {%
    \renewcommand*{\aclabelfont}[1]{\textbf{\textsf{\acsfont{#1}}}}
  }%
  {%
  }%
\makeatother

% LISTINGS
\renewcommand{\lstlistingname}{Source}
\renewcommand{\lstlistlistingname}{Source directory}
\lstset{numbers=left,
	numberstyle=\tiny,
	captionpos=b,
	basicstyle=\ttfamily\small}

% ALGORITHMS
\renewcommand{\listalgorithmname}{Algorithm directory}
\floatname{algorithm}{Algorithm}

% PAGE HEADER / FOOTER
\RequirePackage[automark]{scrlayer-scrpage}
% alternatively with separation lines: \RequirePackage[automark,headsepline,footsepline]{scrlayer-scrpage}

\renewcommand{\chaptermarkformat}{}
\RedeclareSectionCommand[beforeskip=0pt]{chapter}
\clearpairofpagestyles

\ofoot[\rule{0pt}{\ht\strutbox+\dp\strutbox}\pagemark]{\rule{0pt}{\ht\strutbox+\dp\strutbox}\pagemark}
\ohead{\headmark}

% Definitionen und Commands
\newcommand{\indextype}{numeric}
\newcommand{\abs}{\par\vskip 0.2cm\goodbreak\noindent}
\newcommand{\nl}{\par\noindent}
\newcommand{\mcl}[1]{\mathcal{#1}}
\newcommand{\nowrite}[1]{}
\newcommand{\NN}{{\mathbb N}}
\newcommand{\imagedir}{img}
\newcommand{\TitelDerArbeit}[1]{\def\DerTitelDerArbeit{#1}\hypersetup{pdftitle={#1}}}
\newcommand{\AutorDerArbeit}[1]{\def\DerAutorDerArbeit{#1}\hypersetup{pdfauthor={#1}}}
\newcommand{\Vorlesung}[1]{\def\DieVorlesung{#1}}
\newcommand{\Firma}[1]{\def\DerNameDerFirma{#1}}
\newcommand{\Kurs}[1]{\def\DieKursbezeichnung{#1}}
\newcommand{\Abteilung}[1]{\def\DerNameDerAbteilung{#1}}
\newcommand{\Studiengangsleiter}[1]{\def\DerStudiengangsleiter{#1}}
\newcommand{\WissBetreuer}[1]{\def\DerWissBetreuer{#1}}
\newcommand{\FirmenBetreuer}[1]{\def\DerFirmenBetreuer{#1}}
\newcommand{\Bearbeitungszeitraum}[1]{\def\DerBearbeitungszeitraum{#1}}
\newcommand{\Abgabedatum}[1]{\def\DasAbgabedatum{#1}}
\newcommand{\Matrikelnummer}[1]{\def\DieMatrikelnummer{#1}}
\newcommand{\Studienrichtung}[1]{\def\DieStudienrichtung{#1}}
\newcommand{\ArtDerArbeit}[1]{\def\DieArtDerArbeit{#1}}
\newcommand{\Literaturverzeichnis}{Bibliography}

\newcommand{\settingBibFootnoteCite}{
	\setlength{\bibparsep}{\parskip}		  % Add some space between biblatex entries in the bibliography
	\addbibresource{bibliography.bib}	    % Add file bibliography.bib as biblatex resource
	\DefineBibliographyStrings{ngerman}{andothers = {{et\,al\adddot}},}
}

\newcommand{\setTitlepage}{
	\input{titlepage}
	\pagenumbering{roman} % RÃ¶mische Seitennummerierung
	\normalfont
}

\newcommand{\initializeText}{
	\clearpage
	\ihead{\chaptername~\thechapter} % Neue Header-Definition
	\pagenumbering{arabic}           % Arabische Seitenzahlen
}

\newcommand{\initializeBibliography}{
	\ihead{}
	\printbibliography[title=\Literaturverzeichnis]
	\cleardoublepage
}

\newcommand{\initializeAppendix}{
	\appendix
}